# CONTAINS SPOILERS ABOUT ENDGAME
# Augmentation shopping list with simulated price doubling
## idea
this is an exploit i created for early/mid game players that do not have access to `SF4 / singularity` yet
its purpose is to retireve the augmentation data from joined factions and retrieve it with additional info
1 retireve general augmentation data and its locations, 2 retrieve the augmentation data with simulated price doubling
from what i know universally the augmentations price rise 1.9 times after each purchase, so i made a tactics 
> buy the most expensive one so the cheapest ones could catch up by price

so the logic of the script works as the following:
we will get a list of augmentations listed from most expensive to the cheapest:

- "=== Simulated Doubling Prices ==="
- "1. NEMEAN Subdermal Weave costs 13.67t, from Faction Augmentations - The Syndicate, original price 13.67t"
- "2. PCMatrix costs 15.98t, from Faction Augmentations - Aevum, original price 8.41t"
- "3. Enhanced Myelin Sheathing costs 20.87t, from Faction Augmentations - The Black Hand, original price 5.78t"

and so on. 

## use
this is an "exploit" that is intended to be used in an ingame `Dev Tools` console
> for those who didnt knew the game `is a chromium in an electron shell`, and you can open dev tools with `F12`

and in it do the following:
- DO NOT scan factions that dont have any augmentations left, or special factions like `Shadow of Anarchy` which augmentation prices doesnt change!!!

1. enter `allow pasting`

2. then paste the script

``` javascript
  (function() {
    // safety globals
    window.augData = window.augData || {};
    window.scannedFactions = window.scannedFactions || new Set();
    window.augScannerRunning = window.augScannerRunning || false;
    window.augScannerObserver = window.augScannerObserver || null;

    // parse the numbers
    function parseValue(str) {
        let num = parseFloat(str.replace(/[$,]/g, ""));
        const lower = str.toLowerCase();
        if (lower.includes("k")) return num * 1e3;
        if (lower.includes("m")) return num * 1e6;
        if (lower.includes("b")) return num * 1e9;
        if (lower.includes("t")) return num * 1e12;
        if (lower.includes("q")) return num * 1e15;
        if (str.includes("Q")) return num * 1e18;
        return num;
    }

    // format numbers
    function formatMoney(num) {
        if (num >= 1e18) return (num / 1e18).toFixed(2) + "Q";
        if (num >= 1e15) return (num / 1e15).toFixed(2) + "q";
        if (num >= 1e12) return (num / 1e12).toFixed(2) + "t";
        if (num >= 1e9) return (num / 1e9).toFixed(2) + "b";
        if (num >= 1e6) return (num / 1e6).toFixed(2) + "m";
        if (num >= 1e3) return (num / 1e3).toFixed(2) + "k";
        return num.toFixed(2);
    }

    // scan augmentation pages
    function scanAugPages() {
        const mainBoxes = document.querySelectorAll("div.MuiBox-root");
        mainBoxes.forEach(box => {
            const header = box.querySelector("h4.MuiTypography-root");
            if (!header) return;

            const factionName = header.textContent.trim();
            if (window.scannedFactions.has(factionName)) return;

            const augRows = box.querySelectorAll("div.MuiPaper-root");
            const augList = [];

            augRows.forEach(row => {
                const buyBtn = row.querySelector("button");
                if (!buyBtn || !buyBtn.textContent.includes("Buy")) return;

                const tps = row.querySelectorAll("p.MuiTypography-root");
                if (tps.length < 3) return;

                const augName = tps[0].textContent.trim();
                if (augName === "NeuroFlux Governor") return; // exclude (doesnt work)

                const price = parseValue(tps[1].textContent.trim());
                const rep = parseValue(tps[2].textContent.trim());

                augList.push({ name: augName, price, reputation: rep, factions: [factionName] });
            });

            if (augList.length > 0) {
                augList.forEach(aug => {
                    // merge factions if aug already exists/repeat
                    if (window.augData[aug.name]) {
                        aug.factions.forEach(f => {
                            if (!window.augData[aug.name].factions.includes(f))
                                window.augData[aug.name].factions.push(f);
                        });
                    } else {
                        window.augData[aug.name] = aug;
                    }
                });
                window.scannedFactions.add(factionName);
                console.log(`Faction scanned: ${factionName}`);
            }
        });
    }

    // output
    function outputResults() {
        if (!window.augData || Object.keys(window.augData).length === 0) {
            console.log("No augmentation data collected yet.");
            return;
        }

        // faction list
        let factionOutput = "=== Faction Augmentation Data ===\n";
        Object.values(window.augData).forEach((aug, i) => {
            factionOutput += `${i + 1}. ${aug.name}, from ${aug.factions.join(", ")}\n`;
        });
        console.log(factionOutput);

        // simulated doubling prices (exclude NeuroFlux(still doesnt))
        const allAugs = Object.values(window.augData).filter(a => a.name !== "NeuroFlux Governor");
        allAugs.sort((a, b) => b.price - a.price);

        let multiplier = 1;
        const simRate = 1.9; // 1.9x increase per aug
        let simOutput = "=== Simulated Doubling Prices ===\n";
        allAugs.forEach((aug, i) => {
            const simPrice = aug.price * multiplier;
            simOutput += `${i + 1}. ${aug.name} costs ${formatMoney(simPrice)}, from ${aug.factions.join(", ")}, original price ${formatMoney(aug.price)}\n`;
            multiplier *= simRate;
        });
        console.log(simOutput);
    }

    // start scanner
    function startScanner() {
        console.log("Starting augmentation scanner. Press Ctrl+Alt+O to toggle off.");
        window.augScannerRunning = true;

        // clear memory for fresh scan
        window.augData = {};
        window.scannedFactions = new Set();

        scanAugPages(); // scan immediately

        // MutationObserver to detect page changes
        const targetNode = document.body;
        const observerConfig = { childList: true, subtree: true };
        const observerCallback = function() {
            if (!window.augScannerRunning) return;
            scanAugPages();
        };
        const observer = new MutationObserver(observerCallback);
        observer.observe(targetNode, observerConfig);
        window.augScannerObserver = observer;
    }

    // stop scanner
    function stopScanner() {
        console.log("Stopping augmentation scanner...");
        window.augScannerRunning = false;
        if (window.augScannerObserver) window.augScannerObserver.disconnect();
        outputResults();
    }

    // Keyboard combo, currently its Ctrl+Alt+O
    document.addEventListener("keydown", function(e) {
        if (e.ctrlKey && e.altKey && e.key.toLowerCase() === "o") {
            if (window.augScannerRunning) stopScanner();
            else startScanner();
        }
    });
})();
```
3. after launching the script press the combination of `CTRL + ALT + O` to start the script
4. after launch there will be an output in console showing that its active, then proceed to the `Augments` page of each faction that you want to clear out of augs, after scanning each faction augmentation page telling ``` Faction scanned: Faction Augmentations - factionName``` after that proceed to the next `Augments` page of the next Faction and so on untill you have nothing left to scan, [example](#proof1)
5. then press the same combo of `CTRL + ALT + O` to stop the script, it will output 2 lists: [1 general augmentation data](#list1) & [2 list with simulated doubling prices](#list2)

- Optional, if the script is still active even after stopping then use `location.reload();`, previous versions of the script were still running in memory even after stopping, this one shouldnt, but if it does then use the command

## logic
script basically works as the following: after enter and launch in dev tools console it waits for key combo to be pressed to be activated,  
then it waits of the change of html elements in the page, and scans the specific elements responsible for faction name, aug name, and aug price, and so on.  
after the scan of the page it outputs to console that its complete so the user can scan the next, scan works infinetly untill the player stops the script by pressing the combo,  
then script will output 2 different lists  
1 a [general list with the augmentation names and their location](#list1)  
2 a [list with a simulated price doubling](#list2) , giving the player an idea of how much funds he needs before buying out the augmentations by order  

## proof
<a name="proof1"></a>

![proof1](https://github.com/K0d0ku/bitburner-and-my-way-of-burning-bits/blob/main/exploits/augmentation-shopping-list/augShopListProof1.png)
![proof2](https://github.com/K0d0ku/bitburner-and-my-way-of-burning-bits/blob/main/exploits/augmentation-shopping-list/augShopListProof2.png)
![proof3](https://github.com/K0d0ku/bitburner-and-my-way-of-burning-bits/blob/main/exploits/augmentation-shopping-list/augShopListProof3.png)

<a name="list1"></a>
1. general augmentation data  
```
=== Faction Augmentation Data ===
1. NeuroFlux Governor - Level 13, from Faction Augmentations - The Black Hand, Faction Augmentations - NiteSec,
Faction Augmentations - Aevum, Faction Augmentations - The Syndicate, Faction Augmentations - Tetrads,
Faction Augmentations - Slum Snakes, Faction Augmentations - Netburners, Faction Augmentations - Tian Di Hui,
Faction Augmentations - CyberSec
2. Artificial Synaptic Potentiation, from Faction Augmentations - The Black Hand, Faction Augmentations - NiteSec
3. DataJack, from Faction Augmentations - The Black Hand, Faction Augmentations - NiteSec
4. Cranial Signal Processors - Gen III, from Faction Augmentations - The Black Hand, Faction Augmentations - NiteSec
5. The Black Hand, from Faction Augmentations - The Black Hand
6. Enhanced Myelin Sheathing, from Faction Augmentations - The Black Hand
7. Cranial Signal Processors - Gen IV, from Faction Augmentations - The Black Hand
8. BitWire, from Faction Augmentations - NiteSec, Faction Augmentations - CyberSec
9. Neurotrainer II, from Faction Augmentations - NiteSec
10. CRTX42-AA Gene Modification, from Faction Augmentations - NiteSec
11. Neural-Retention Enhancement, from Faction Augmentations - NiteSec
12. Neurotrainer I, from Faction Augmentations - Aevum, Faction Augmentations - CyberSec
13. Synaptic Enhancement Implant, from Faction Augmentations - Aevum, Faction Augmentations - CyberSec
14. PCMatrix, from Faction Augmentations - Aevum
15. ADR-V1 Pheromone Gene, from Faction Augmentations - The Syndicate, Faction Augmentations - Tian Di Hui
16. Combat Rib I, from Faction Augmentations - The Syndicate, Faction Augmentations - Slum Snakes
17. HemoRecirculator, from Faction Augmentations - The Syndicate, Faction Augmentations - Tetrads
18. BrachiBlades, from Faction Augmentations - The Syndicate
19. Augmented Targeting III, from Faction Augmentations - The Syndicate
20. Nanofiber Weave, from Faction Augmentations - The Syndicate, Faction Augmentations - Tian Di Hui
21. Bionic Spine, from Faction Augmentations - The Syndicate
22. Power Recirculation Core, from Faction Augmentations - The Syndicate, Faction Augmentations - Tetrads
23. Bionic Legs, from Faction Augmentations - The Syndicate
24. The Shadow's Simulacrum, from Faction Augmentations - The Syndicate
25. NEMEAN Subdermal Weave, from Faction Augmentations - The Syndicate
26. Combat Rib II, from Faction Augmentations - The Syndicate
27. Combat Rib III, from Faction Augmentations - The Syndicate
28. Bionic Arms, from Faction Augmentations - Tetrads
29. Hacknet Node CPU Architecture Neural-Upload, from Faction Augmentations - Netburners
30. Speech Enhancement, from Faction Augmentations - Tian Di Hui
31. Nuoptimal Nootropic Injector Implant, from Faction Augmentations - Tian Di Hui
32. Social Negotiation Assistant (S.N.A), from Faction Augmentations - Tian Di Hui
33. Neuroreceptor Management Implant, from Faction Augmentations - Tian Di Hui
```

<a name="list2"></a>
2. list with simulated doubling prices  
```
=== Simulated Doubling Prices ===
1. NEMEAN Subdermal Weave costs 13.67t, from Faction Augmentations - The Syndicate, original price 13.67t
2. PCMatrix costs 15.98t, from Faction Augmentations - Aevum, original price 8.41t
3. Enhanced Myelin Sheathing costs 20.87t, from Faction Augmentations - The Black Hand, original price 5.78t
4. The Black Hand costs 15.86t, from Faction Augmentations - The Black Hand, original price 2.31t
5. Neuroreceptor Management Implant costs 30.14t, from Faction Augmentations - Tian Di Hui, original price 2.31t
6. DataJack costs 46.85t, from Faction Augmentations - The Black Hand, Faction Augmentations - NiteSec, original price 1.89t
7. The Shadow's Simulacrum costs 79.13t, from Faction Augmentations - The Syndicate, original price 1.68t
8. Bionic Legs costs 140.96t, from Faction Augmentations - The Syndicate, original price 1.58t
9. Bionic Arms costs 196.33t, from Faction Augmentations - Tetrads, original price 1.16t
10. Neural-Retention Enhancement costs 339.14t, from Faction Augmentations - NiteSec, original price 1.05t
11. CRTX42-AA Gene Modification costs 580.12t, from Faction Augmentations - NiteSec, original price 946.19b
12. Power Recirculation Core costs 881.78t, from Faction Augmentations - The Syndicate, Faction Augmentations - Tetrads, original price 756.95b
13. Nanofiber Weave costs 1.16q, from Faction Augmentations - The Syndicate, Faction Augmentations - Tian Di Hui, original price 525.66b
14. Bionic Spine costs 2.21q, from Faction Augmentations - The Syndicate, original price 525.66b
15. BrachiBlades costs 3.02q, from Faction Augmentations - The Syndicate, original price 378.48b
16. Artificial Synaptic Potentiation costs 5.11q, from Faction Augmentations - The Black Hand, Faction Augmentations - NiteSec, original price 336.42b
17. Neurotrainer II costs 5.46q, from Faction Augmentations - NiteSec, original price 189.24b
18. HemoRecirculator costs 10.37q, from Faction Augmentations - The Syndicate, Faction Augmentations - Tetrads, original price 189.24b
19. NeuroFlux Governor - Level 13 costs 1.58q, from Faction Augmentations - The Black Hand, Faction Augmentations - NiteSec, Faction Augmentations - Aevum, Faction Augmentations - The Syndicate, Faction Augmentations - Tetrads, Faction Augmentations - Slum Snakes, Faction Augmentations - Netburners, Faction Augmentations - Tian Di Hui, Faction Augmentations - CyberSec, original price 15.20b
20. Cranial Signal Processors - Gen III costs NaN, from Faction Augmentations - The Black Hand, Faction Augmentations - NiteSec, original price NaN
21. Cranial Signal Processors - Gen IV costs NaN, from Faction Augmentations - The Black Hand, original price NaN
22. Social Negotiation Assistant (S.N.A) costs 90.10q, from Faction Augmentations - Tian Di Hui, original price 126.16b
23. Combat Rib I costs 135.53q, from Faction Augmentations - The Syndicate, Faction Augmentations - Slum Snakes, original price 99.88b
24. Nuoptimal Nootropic Injector Implant costs 216.85q, from Faction Augmentations - Tian Di Hui, original price 84.11b
25. ADR-V1 Pheromone Gene costs 360.51q, from Faction Augmentations - The Syndicate, Faction Augmentations - Tian Di Hui, original price 73.59b
26. Speech Enhancement costs 489.27q, from Faction Augmentations - Tian Di Hui, original price 52.57b
27. BitWire costs 743.69q, from Faction Augmentations - NiteSec, Faction Augmentations - CyberSec, original price 42.05b
28. Synaptic Enhancement Implant costs 1.06Q, from Faction Augmentations - Aevum, Faction Augmentations - CyberSec, original price 31.54b
29. Neurotrainer I costs 1.07Q, from Faction Augmentations - Aevum, Faction Augmentations - CyberSec, original price 16.82b
30. Augmented Targeting III costs NaN, from Faction Augmentations - The Syndicate, original price NaN
31. Combat Rib II costs NaN, from Faction Augmentations - The Syndicate, original price NaN
32. Combat Rib III costs NaN, from Faction Augmentations - The Syndicate, original price NaN
33. Hacknet Node CPU Architecture Neural-Upload costs 38.49Q, from Faction Augmentations - Netburners, original price 46.26b
```

- i tried to exclude `Neuroflux Governor` but it was unsuccessfull, i would love to hear on any suggestions or fixes on my codes
